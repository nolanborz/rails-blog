<%# app/views/articles/index.html.erb %>
<div class="max-w-5xl mx-auto px-4 py-8">
  <!-- Header with thick bottom border -->
  <div class="flex justify-between items-center mb-8 pb-4 border-b-4 border-black">
    <h1 class="text-4xl font-mono font-bold uppercase tracking-tight">Articles</h1>
    <%= link_to new_article_path, class: "flex items-center px-4 py-2 bg-black text-white font-mono font-bold border-2 border-black hover:translate-x-1 hover:translate-y-1 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all" do %>
      + Write New Article
    <% end %>
  </div>
  
  <% if @articles.any? %>
    <ul class="space-y-4">
      <% @articles.each do |article| %>
        <li class="border-3 border-black hover:translate-x-1 hover:-translate-y-1 hover:shadow-[-4px_4px_0px_0px_rgba(0,0,0,1)] transition-all">
          <%= link_to article_path(article), class: "block p-6" do %>
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-mono font-bold tracking-tight"><%= article.title %></h3>
              <% if article.published? %>
                <span class="px-2 py-1 font-mono text-xs font-bold uppercase bg-white border-2 border-black">Published</span>
              <% else %>
                <span class="px-2 py-1 font-mono text-xs font-bold uppercase bg-black text-white">Draft</span>
              <% end %>
            </div>
            <div class="mt-4 pt-3 border-t-2 border-black flex justify-between text-sm font-mono">
              <div class="flex items-center">
                <span class="mr-2">‚óÜ</span>
                <span><%= article.created_at.strftime("%B %d, %Y") %></span>
              </div>
              <div class="flex items-center">
                <span class="mr-2">‚â°</span>
                <span><%= pluralize(article.body.split.size, 'word') rescue '0 words' %></span>
              </div>
              <div class="flex items-center">
                <span class="mr-2">‚Üí</span>
                <span>View article</span>
              </div>
            </div>
          <% end %>
        </li>
      <% end %>
    </ul>
    
    <% if @articles.respond_to?(:total_pages) %>
      <div class="mt-8 flex justify-center">
        <nav class="flex space-x-2" aria-label="Pagination">
          <% if @articles.prev_page %>
            <%= link_to articles_path(page: @articles.prev_page), class: "px-3 py-2 border-2 border-black font-mono" do %>
              <span>‚Üê</span>
            <% end %>
          <% end %>
          
          <% (1..(@articles.total_pages)).each do |page| %>
            <% if page == @articles.current_page %>
              <span class="px-3 py-2 border-2 border-black bg-black text-white font-mono">
                <%= page %>
              </span>
            <% else %>
              <%= link_to page, articles_path(page: page), class: "px-3 py-2 border-2 border-black font-mono hover:bg-gray-100" %>
            <% end %>
          <% end %>
          
          <% if @articles.next_page %>
            <%= link_to articles_path(page: @articles.next_page), class: "px-3 py-2 border-2 border-black font-mono" do %>
              <span>‚Üí</span>
            <% end %>
          <% end %>
        </nav>
      </div>
    <% end %>
  <% else %>
    <div class="text-center py-16 border-3 border-black">
      <div class="text-5xl mb-4">üìù</div>
      <h3 class="text-2xl font-mono font-bold uppercase tracking-tight mb-2">No articles yet</h3>
      <p class="mb-6 font-mono">Get started by creating a new article.</p>
      <%= link_to new_article_path, class: "inline-flex items-center px-4 py-2 bg-black text-white font-mono font-bold border-2 border-black hover:translate-x-1 hover:translate-y-1 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all" do %>
        + Create Your First Article
      <% end %>
    </div>
  <% end %>
</div>