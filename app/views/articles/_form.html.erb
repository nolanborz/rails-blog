<%= form_with(model: article, class: "max-w-5xl mx-auto my-12 p-8 bg-white border-2 border-black", data: { controller: "editor" }) do |form| %>
  <% if article.errors.any? %>
    <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-8">
      <h2 class="text-red-700 text-lg font-medium">
        <%= pluralize(article.errors.count, "error") %> prohibited this article from being saved:
      </h2>
      <ul class="mt-2 ml-5 list-disc text-red-600">
        <% article.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-8 text-center">
    <%= form.label :title, class: "block mb-3 font-semibold text-gray-700 text-lg" %>
    <%= form.text_field :title, class: "w-full px-4 py-3 text-2xl font-semibold border-2 border-black text-center focus:outline-none", placeholder: "Enter a compelling title..." %>
  </div>

  <div class="mb-8">
    <div class="flex flex-wrap items-center justify-center p-3 mb-3 bg-white border-2 border-black" >
      <button type="button" id="bold-btn" title="Bold" class="p-2 mx-1 text-gray-800 hover:bg-gray-100" data-action="click->editor#boldText">
        <i class="fas fa-bold"></i>
      </button>
      <button type="button" id="italic-btn" title="Italic" class="p-2 mx-1 text-gray-800 hover:bg-gray-100" data-action="click->editor#italicText">
        <i class="fas fa-italic"></i>
      </button>
      <button type="button" id="heading-btn" title="Heading" class="p-2 mx-1 text-gray-800 hover:bg-gray-100" data-action="click->editor#headingText">
        <i class="fas fa-heading"></i>
      </button>
      <button type="button" id="list-btn" title="List" class="p-2 mx-1 text-gray-800 hover:bg-gray-100" data-action="click->editor#listText">
        <i class="fas fa-list-ul"></i>
      </button>
      <button type="button" id="link-btn" title="Link" class="p-2 mx-1 text-gray-800 hover:bg-gray-100" data-action="click->editor#linkText">
        <i class="fas fa-link"></i>
      </button>
      <label for="image-upload" class="p-2 mx-1 text-gray-800 hover:bg-gray-100 cursor-pointer">
        <i class="fas fa-image"></i>
        <%= form.file_field :images, multiple: true, class: "sr-only", id: "image-upload", accept: "image/*" %>
      </label>
    </div>
    <div>
      <%= form.label :body %>
      <%= form.rich_text_area :body %>
    </div>
  </div>

  <div id="image-preview" class="flex flex-wrap justify-center gap-4 mb-8" data-editor-target="imagePreview"></div>

  <div class="flex justify-center items-center mb-8">
    <%= form.check_box :published, class: "w-5 h-5 mr-2 text-black border-2 border-black focus:ring-0" %>
    <%= form.label :published, "Publish this article", class: "text-gray-800 text-lg" %>
  </div>

  <div class="flex justify-center gap-6 mt-10 border-t-2 border-black pt-8">
    <%= form.submit "Save Article", class: "px-8 py-3 bg-black text-white font-semibold hover:-translate-y-1 transition-transform" %>
    <%= link_to "Cancel", articles_path, class: "px-8 py-3 bg-white text-black border-2 border-black font-semibold hover:-translate-y-1 transition-transform" %>
  </div>
<% end %>